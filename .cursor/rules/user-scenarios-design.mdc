---
description: user scenarios
globs: 
alwaysApply: false
---
# 최저가 쇼핑 Agent - 사용자 시나리오 설계

## 🔄 주요 사용자 시나리오

### 시나리오 1: 빠른 상품 검색 (바쁜 직장인)

```mermaid
sequenceDiagram
    participant U as 사용자
    participant C as 챗봇 UI
    participant A as AI Agent
    participant S as 쇼핑몰 API

    U->>C: "아이폰 15 최저가 찾아줘"
    C->>A: 음성/텍스트 입력 처리
    A->>S: 다중 쇼핑몰 검색 요청
    S-->>A: 상품 정보 및 가격 데이터
    A->>C: 상품 카드 형태로 결과 표시
    C->>U: 최저가 3개 옵션 제시
    U->>C: 첫 번째 옵션 선택
    C->>U: 구매 링크 및 쿠폰 정보 제공
```

**UI 플로우:**
1. **입력 영역**: 음성 또는 텍스트로 "아이폰 15 최저가"
2. **봇 메시지**: "아이폰 15를 검색하고 있습니다..."
3. **상품 카드**: 최저가 3개 옵션 표시
4. **가격 비교 테이블**: 상세 가격 비교
5. **액션 버튼**: "구매하러 가기", "알림 설정"

### 시나리오 2: 상세 가격 비교 (알뜰한 주부)

```mermaid
flowchart TD
    A[상품명 입력] --> B[초기 검색 결과]
    B --> C{더 자세한 비교 원함?}
    C -->|Yes| D[상세 비교 요청]
    C -->|No| E[구매 결정]
    D --> F[배송비 포함 총액 계산]
    F --> G[할인 쿠폰 정보 확인]
    G --> H[최종 가격 비교표]
    H --> I[알림 설정 옵션]
    I --> E
    E --> J[구매 링크 이동]
```

**대화 예시:**
- **사용자**: "삼성 세탁기 WF21T6000KW 가격 비교해줘"
- **봇**: "삼성 세탁기를 검색했습니다. 5개 쇼핑몰에서 찾았어요!"
- **사용자**: "배송비까지 포함해서 보여줘"
- **봇**: "배송비 포함 총액으로 다시 정렬했습니다. 쿠팡이 가장 저렴해요!"

### 시나리오 3: 이미지 기반 검색 (트렌드 세터)

```mermaid
stateDiagram-v2
    [*] --> ImageUpload: 이미지 업로드
    ImageUpload --> ImageAnalysis: AI 이미지 분석
    ImageAnalysis --> ProductIdentification: 상품 식별
    ProductIdentification --> SearchResults: 검색 결과
    SearchResults --> DetailedInfo: 상세 정보 요청
    DetailedInfo --> ReviewAnalysis: 리뷰 분석
    ReviewAnalysis --> BrandComparison: 브랜드 비교
    BrandComparison --> PurchaseDecision: 구매 결정
    PurchaseDecision --> [*]
```

**UI 상호작용:**
1. **이미지 업로드**: 카메라/갤러리에서 상품 사진 선택
2. **분석 중**: "이미지를 분석하고 있습니다..." 로딩 애니메이션
3. **상품 식별**: "나이키 에어맥스 270으로 보입니다. 맞나요?"
4. **확인 후 검색**: 상품 카드들과 가격 정보 표시
5. **추가 정보**: 리뷰 요약, 브랜드 비교, 사이즈 가이드

## 🎨 UI 컴포넌트별 시나리오 매핑

### 헤더 컴포넌트 시나리오
- **로고 클릭**: 홈으로 이동, 새로운 검색 시작
- **사용자 프로필**: 검색 히스토리, 알림 설정, 즐겨찾기
- **설정 버튼**: 알림 설정, 선호 쇼핑몰, 가격 범위 설정

### 메시지 버블 시나리오
- **사용자 메시지**: 텍스트, 음성, 이미지 입력 지원
- **봇 메시지**: 텍스트, 상품 카드, 가격 테이블, 액션 버튼 포함
- **메시지 액션**: 복사, 공유, 즐겨찾기 추가

### 상품 카드 시나리오
- **기본 정보**: 상품명, 가격, 할인율, 배송 정보
- **액션 버튼**: "구매하러 가기", "비교함에 추가", "알림 설정"
- **상세 보기**: 클릭 시 상세 정보 모달 또는 확장 카드

### 입력 영역 시나리오
- **텍스트 입력**: 자동완성, 검색 히스토리 제안
- **음성 입력**: 음성 인식, 실시간 텍스트 변환
- **이미지 입력**: 카메라 촬영, 갤러리 선택, 드래그 앤 드롭

## 🔄 고급 시나리오

### 시나리오 4: 가격 알림 설정

```mermaid
journey
    title 가격 알림 설정 여정
    section 상품 발견
      상품 검색: 5: 사용자
      결과 확인: 4: 사용자
      가격이 높음: 2: 사용자
    section 알림 설정
      알림 버튼 클릭: 5: 사용자
      목표 가격 입력: 4: 사용자
      알림 방식 선택: 4: 사용자
    section 알림 수신
      가격 하락 감지: 5: 시스템
      푸시 알림 발송: 5: 시스템
      구매 링크 제공: 5: 시스템
```

### 시나리오 5: 다중 상품 비교

```mermaid
graph LR
    A[첫 번째 상품 검색] --> B[비교함에 추가]
    B --> C[두 번째 상품 검색]
    C --> D[비교함에 추가]
    D --> E[비교 테이블 생성]
    E --> F[스펙 비교]
    F --> G[가격 비교]
    G --> H[최종 추천]
```

## 📱 모바일 특화 시나리오

### 터치 제스처 시나리오
- **스와이프**: 상품 카드 간 이동
- **롱 프레스**: 상품 즐겨찾기 추가
- **핀치 줌**: 상품 이미지 확대
- **풀 투 리프레시**: 가격 정보 업데이트

### 음성 상호작용 시나리오
- **음성 검색**: "갤럭시 S24 최저가 찾아줘"
- **음성 명령**: "첫 번째 상품 구매 링크 열어줘"
- **음성 피드백**: "가격이 10% 할인되었습니다"





