---
description: 
globs: 
alwaysApply: false
---
# 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ê¸°ë³¸ êµ¬ì¡° ì„¤ì •

## ğŸ¯ ëª©í‘œ
ê°œë°œ í™˜ê²½ ì´ˆê¸° êµ¬ì„± ë° í”„ë¡œì íŠ¸ ê¸°ë°˜ êµ¬ì¡° ì„¤ì •

## ğŸ“‹ ìƒì„¸ íƒœìŠ¤í¬

### 1.1 Python í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì •
- **Python ê°€ìƒí™˜ê²½ ìƒì„±**
  ```bash
  python -m venv venv
  source venv/bin/activate  # Linux/Mac
  venv\Scripts\activate     # Windows
  ```

### 1.2 ê¸°ë³¸ ê°œë°œ ì›ì¹™ ë£° ì‘ì„±
- í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡° ì‘ì„±
- ê°œë°œ ì›ì¹™
  - TDD ê¸°ë°˜, í…ŒìŠ¤íŠ¸ ì½”ë“œ ë¨¼ì € ì‘ì„±
  - SOLID ì›ì¹™
  - Clean Architecture

### 1.3 requirements.txt ì˜ì¡´ì„± ê´€ë¦¬ ì‘ì„±
```txt
# FastAPI & Server
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6

# Streamlit UI
streamlit==1.28.1

# LangGraph & AI
langgraph==0.0.62
langchain==0.1.0
langchain-google-genai==1.0.1

# MCP Integration
langchain-mcp-adapters==0.1.0

# Testing
pytest==7.4.3
pytest-asyncio==0.21.1
httpx==0.25.2

# Environment
python-dotenv==1.0.0

# Utilities
pydantic==2.5.0
```

### 1.4 ê¸°ë³¸ Skeleton ì½”ë“œ êµ¬ì„±

#### FastAPI ì„œë²„ ê¸°ë³¸ êµ¬ì¡° (`src/api/main.py`)
```python
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware

app = FastAPI(
    title="PriceFinder Agent API",
    description="ìµœì €ê°€ ì‡¼í•‘ Agent API",
    version="0.1.0"
)

app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

@app.get("/")
async def root():
    return {"message": "PriceFinder Agent API"}

@app.get("/health")
async def health_check():
    return {"status": "healthy"}

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)
```

#### Streamlit UI ê¸°ë³¸ êµ¬ì¡° (`src/ui/streamlit_app.py`)
```python
import streamlit as st

st.set_page_config(
    page_title="PriceFinder Agent",
    page_icon="ğŸ›’",
    layout="wide"
)

st.title("ğŸ›’ PriceFinder Agent")
st.write("ìµœì €ê°€ ì‡¼í•‘ AI Agent")

# ê¸°ë³¸ ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ placeholder
if "messages" not in st.session_state:
    st.session_state.messages = []

# ë©”ì‹œì§€ í‘œì‹œ
for message in st.session_state.messages:
    with st.chat_message(message["role"]):
        st.markdown(message["content"])

# ì‚¬ìš©ì ì…ë ¥
if prompt := st.chat_input("ìƒí’ˆì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”..."):
    st.session_state.messages.append({"role": "user", "content": prompt})
    with st.chat_message("user"):
        st.markdown(prompt)
    
    # TODO: Agent ì—°ë™
    with st.chat_message("assistant"):
        response = f"'{prompt}'ì— ëŒ€í•œ ê²€ìƒ‰ ê¸°ëŠ¥ì€ ì•„ì§ êµ¬í˜„ ì¤‘ì…ë‹ˆë‹¤."
        st.markdown(response)
        st.session_state.messages.append({"role": "assistant", "content": response})
```

#### Agent ê¸°ë³¸ êµ¬ì¡° (`src/agent/core.py`)
```python
from typing import Dict, Any

class PriceFinderAgent:
    """ìµœì €ê°€ ì‡¼í•‘ Agent ê¸°ë³¸ í´ë˜ìŠ¤"""
    
    def __init__(self):
        self.session_state = {}
    
    async def process_message(self, message: str, session_id: str) -> Dict[str, Any]:
        """ë©”ì‹œì§€ ì²˜ë¦¬ ê¸°ë³¸ ë©”ì„œë“œ"""
        return {
            "response": f"ë©”ì‹œì§€ '{message}' ì²˜ë¦¬ ì¤‘... (êµ¬í˜„ ì˜ˆì •)",
            "session_id": session_id
        }
    
    async def search_products(self, query: str) -> Dict[str, Any]:
        """ìƒí’ˆ ê²€ìƒ‰ ê¸°ë³¸ ë©”ì„œë“œ"""
        return {
            "products": [],
            "message": f"'{query}' ìƒí’ˆ ê²€ìƒ‰ ê¸°ëŠ¥ êµ¬í˜„ ì˜ˆì •"
        }
```

### 1.5 TDD ì„¤ì •

#### pytest ì„¤ì • (`pytest.ini`)
```ini
[tool:pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v --tb=short
asyncio_mode = auto
```

#### ê¸°ë³¸ í…ŒìŠ¤íŠ¸ íŒŒì¼ë“¤
- `tests/test_api/test_main.py`: FastAPI í…ŒìŠ¤íŠ¸
- `tests/test_agent/test_core.py`: Agent í…ŒìŠ¤íŠ¸
- `tests/test_ui/test_streamlit.py`: UI í…ŒìŠ¤íŠ¸

### 1.6 Git ì„¤ì •

#### .gitignore
```
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual Environment
venv/
env/
ENV/

# Environment Variables
.env
.env.local

# IDE
.vscode/
.idea/
*.swp
*.swo

# OS
.DS_Store
Thumbs.db

# Logs
*.log
logs/

# Testing
.pytest_cache/
.coverage
htmlcov/

# Streamlit
.streamlit/
```

### 1.7 í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (`.env.example`)
```
# API Configuration
API_HOST=localhost
API_PORT=8000

# Google Gemini API
GOOGLE_API_KEY=your_gemini_api_key_here

# Development
DEBUG=true
LOG_LEVEL=INFO
```
