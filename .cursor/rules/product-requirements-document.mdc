---
description: product requirements document
globs: 
alwaysApply: false
---
# 최저가 쇼핑 Agent - PRD (Product Requirements Document)

## 🎯 핵심 기능 요구사항
### 1. 상품 검색 및 식별 시스템

#### 1.1 스마트 상품 검색
- **기능**: 자연어 검색 지원 ("아이폰 15 프로 256GB 블루")
- **요구사항**: 
  - 브랜드명, 모델명, 옵션 자동 파싱
  - 오타 및 띄어쓰기 오류 자동 보정
  - 동의어 및 약어 인식 (갤럭시 = 삼성 갤럭시)

#### 1.2 상품 매칭 알고리즘
- **기능**: 서로 다른 쇼핑몰의 동일 상품 식별
- **요구사항**:
  - 상품명, 브랜드, 모델번호, 옵션 기반 매칭
  - 가격 범위 기반 이상치 필터링
- **정확도**: 95% 이상의 매칭 정확도

### 2. 다중 쇼핑몰 크롤링 시스템

#### 2.1 지원 쇼핑몰 (Phase 1)
- **필수**: 쿠팡, 11번가, 옥션, G마켓, 인터파크
- **추가**: 네이버 쇼핑, 다나와, 위메프, 티몬, 기타
- **확장**: 해외 직구몰 (아마존, 알리익스프레스)

#### 2.2 실시간 가격 수집
- **기능**: 실시간 가격 정보 수집
- **요구사항**:
  - 각 쇼핑몰별 API 또는 크롤링 최적화
  - Rate limiting 준수 (각 사이트별 정책 고려)

#### 2.3 가격 정보 정확성
- **기능**: 할인가, 쿠폰가, 적립금 포함 실제 결제 금액 계산
- **요구사항**:
  - 회원 할인, 카드 할인 정보 수집
  - 배송비 정보 포함 (무료배송 조건 확인)
  - 적립금/포인트 환산 금액 계산
- **정확도**: 실제 결제 금액과 ±1% 이내 오차

### 3. 사용자 인터페이스 (챗봇형 대화 페이지)

#### 3.1 통합 챗봇 인터페이스
- **레이아웃**: 
  - 전체 화면 채팅 인터페이스 (챗GPT 스타일)
  - 하단 고정 입력창 (텍스트 + 이미지 업로드)
  - 상단 헤더 (로고)
- **기능**:
  - 자연어 대화형 상품 검색
  - 이미지 업로드를 통한 상품 검색 (상품 사진)

#### 3.2 대화형 상품 검색 및 결과 표시
- **검색 시작**:
  - 사용자: "아이폰 15 프로 256GB 최저가 찾아줘"
  - 봇: "아이폰 15 Pro 256GB를 검색하고 있습니다... 🔍"
- **결과 표시 방식**:
  - 카드형 메시지로 상품 정보 표시
  - 각 쇼핑몰별 가격을 버블 메시지로 순차 표시
  - 인터랙티브 버튼 (원본 사이트 링크 연결)
- **정렬 및 필터링**:
  - 사용자: "가격 낮은 순으로 정렬해줘"
  - 사용자: "무료배송만 보여줘"
  - 사용자: "쿠팡이랑 11번가만 비교해줘"

#### 3.3 대화형 상품 상세 비교
- **상세 정보 요청**:
  - 사용자: "첫 번째 상품 자세히 보여줘"
  - 봇: 상세 가격 비교 카드 표시
- **비교 테이블 표시**:
  - 채팅 메시지 내 테이블 형태로 표시
  - 쇼핑몰별 가격, 할인 정보, 배송비 포함
  - 최종 결제 예상 금액 하이라이트
- **추가 정보 제공**:
  - 평점, 리뷰 수, 판매자 신뢰도
  - 반품/교환 정책 요약
  - 가격 변동 그래프 (이미지로 생성)

#### 3.4 대화형 도움말 및 가이드
- **사용법 안내**:
  - 사용자: "어떻게 사용하는 거야?"
  - 봇: 단계별 사용법 가이드 제공
- **추천 검색어**:
  - 봇: "이런 상품들도 많이 찾아보세요: [버튼들]"
- **트렌드 정보**:
  - 봇: "요즘 인기 상품 TOP 5를 알려드릴까요?"

#### 3.5 멀티미디어 지원
- **이미지 응답**:
  - 상품 이미지, 가격 비교 차트, 그래프
- **링크 및 버튼**:
  - 구매 페이지 바로가기 버튼


  - 상세 정보 펼치기/접기 버튼